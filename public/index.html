<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NFL Historical Database</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<header>
  <h1>NFL Historical Database</h1>
  <p class="subtitle">14,000+ games from 1966–2025 &mdash; Every record, every scenario</p>
</header>

<nav class="tab-bar">
  <button class="tab active" data-tab="record-finder">Record Finder</button>
  <button class="tab" data-tab="head-to-head">Head to Head</button>
  <button class="tab" data-tab="game-explorer">Game Explorer</button>
  <button class="tab" data-tab="quick-stats">Quick Stats</button>
</nav>

<main>

  <!-- ═══════════════════════════════════════════════ -->
  <!-- TAB 1: RECORD FINDER                           -->
  <!-- ═══════════════════════════════════════════════ -->
  <section id="record-finder" class="tab-panel active">
    <div class="rf-controls panel">
      <div class="rf-row">
        <div class="rf-group" style="flex:2">
          <label for="rf-team">Team</label>
          <select id="rf-team"><option value="">-- Select a Team --</option></select>
        </div>
        <div class="rf-group">
          <label>Franchise Mode</label>
          <label class="toggle-label"><input type="checkbox" id="rf-franchise-mode"> <span>Group historical names</span></label>
        </div>
      </div>

      <div class="rf-row">
        <div class="rf-group">
          <label>Location</label>
          <div class="radio-group">
            <label><input type="radio" name="rf-location" value="all" checked> All</label>
            <label><input type="radio" name="rf-location" value="home"> Home</label>
            <label><input type="radio" name="rf-location" value="away"> Away</label>
          </div>
        </div>
        <div class="rf-group">
          <label>Game Type</label>
          <div class="radio-group">
            <label><input type="radio" name="rf-gametype" value="all" checked> All</label>
            <label><input type="radio" name="rf-gametype" value="regular"> Regular Season</label>
            <label><input type="radio" name="rf-gametype" value="playoffs"> Playoffs</label>
          </div>
        </div>
      </div>

      <div class="rf-row">
        <div class="rf-group">
          <label for="rf-season-from">Season From</label>
          <select id="rf-season-from"></select>
        </div>
        <div class="rf-group">
          <label for="rf-season-to">Season To</label>
          <select id="rf-season-to"></select>
        </div>
        <div class="rf-group">
          <label for="rf-opponent">Opponent</label>
          <select id="rf-opponent"><option value="">All Teams</option></select>
        </div>
      </div>

      <div class="rf-row">
        <div class="rf-group rf-group-wide">
          <label>Week(s) <small class="muted">(leave all unchecked = all weeks)</small></label>
          <div class="checkbox-grid" id="rf-weeks"></div>
        </div>
      </div>

      <div class="rf-row">
        <div class="rf-group">
          <label>Day of Week</label>
          <div class="checkbox-grid" id="rf-days"></div>
        </div>
        <div class="rf-group">
          <label>Primetime</label>
          <div class="checkbox-grid" id="rf-primetime"></div>
        </div>
      </div>

      <div class="rf-row">
        <button id="rf-clear" class="btn btn-secondary">Clear All Filters</button>
      </div>
    </div>

    <!-- Results -->
    <div class="rf-results" id="rf-results" style="display:none">
      <div class="rf-scoreboard">
        <div class="rf-team-name" id="rf-display-team"></div>
        <div class="rf-filter-summary" id="rf-summary"></div>
        <div class="rf-record-big">
          <span class="rf-wins" id="rf-w">0</span>
          <span class="rf-sep">&ndash;</span>
          <span class="rf-losses" id="rf-l">0</span>
          <span class="rf-sep">&ndash;</span>
          <span class="rf-ties" id="rf-t">0</span>
        </div>
        <div class="rf-winpct" id="rf-pct">.000</div>
      </div>

      <div class="rf-stats-row">
        <div class="stat-card">
          <div class="stat-label">Points For / Game</div>
          <div class="stat-value" id="rf-ppg-for">--</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Points Against / Game</div>
          <div class="stat-value" id="rf-ppg-against">--</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Avg Margin</div>
          <div class="stat-value" id="rf-avg-margin">--</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Current Streak</div>
          <div class="stat-value" id="rf-streak">--</div>
        </div>
      </div>

      <div class="rf-stats-row" id="rf-ats-row" style="display:none">
        <div class="stat-card">
          <div class="stat-label">ATS Record</div>
          <div class="stat-value" id="rf-ats-record">--</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">ATS Win %</div>
          <div class="stat-value" id="rf-ats-pct">--</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Over / Under</div>
          <div class="stat-value" id="rf-ou-record">--</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Over %</div>
          <div class="stat-value" id="rf-ou-pct">--</div>
        </div>
      </div>

      <div class="rf-games-toggle">
        <button id="rf-toggle-games" class="btn btn-secondary">Show Matching Games (<span id="rf-game-count">0</span>)</button>
      </div>
      <div id="rf-games-container" class="rf-games-table" style="display:none">
        <table>
          <thead>
            <tr>
              <th>Season</th><th>Week</th><th>Date</th><th>Day</th>
              <th>Opponent</th><th>H/A</th><th>Score</th><th>Result</th><th>Primetime</th>
              <th>Spread</th><th>O/U</th><th>ATS</th><th>O/U Result</th>
              <th>Temp</th><th>Wind</th><th>Conditions</th>
            </tr>
          </thead>
          <tbody id="rf-games-body"></tbody>
        </table>
      </div>
    </div>

    <div class="rf-placeholder" id="rf-placeholder">
      <p>Select a team above to compute their record</p>
    </div>
  </section>

  <!-- ═══════════════════════════════════════════════ -->
  <!-- TAB 2: HEAD TO HEAD                            -->
  <!-- ═══════════════════════════════════════════════ -->
  <section id="head-to-head" class="tab-panel">
    <div class="h2h-controls panel">
      <div class="h2h-select-row">
        <select id="h2h-teamA"><option value="">-- Team A --</option></select>
        <span class="h2h-vs">VS</span>
        <select id="h2h-teamB"><option value="">-- Team B --</option></select>
      </div>
      <label class="toggle-label"><input type="checkbox" id="h2h-franchise-mode"> <span>Group historical names</span></label>
    </div>

    <div id="h2h-results" style="display:none">
      <div class="h2h-overall">
        <div class="h2h-team-col">
          <div class="h2h-team-name" id="h2h-nameA"></div>
          <div class="h2h-big-num" id="h2h-winsA">0</div>
          <div class="h2h-label">Wins</div>
        </div>
        <div class="h2h-center">
          <div class="h2h-ties-num" id="h2h-ties">0</div>
          <div class="h2h-label">Ties</div>
        </div>
        <div class="h2h-team-col">
          <div class="h2h-team-name" id="h2h-nameB"></div>
          <div class="h2h-big-num" id="h2h-winsB">0</div>
          <div class="h2h-label">Wins</div>
        </div>
      </div>

      <div class="h2h-breakdowns">
        <div class="stat-card" id="h2h-at-a"></div>
        <div class="stat-card" id="h2h-at-b"></div>
        <div class="stat-card" id="h2h-playoffs"></div>
      </div>

      <h3 class="section-title">Record by Decade</h3>
      <div class="table-container">
        <table>
          <thead><tr><th>Decade</th><th id="h2h-dec-colA">Team A</th><th id="h2h-dec-colB">Team B</th><th>Ties</th></tr></thead>
          <tbody id="h2h-decade-body"></tbody>
        </table>
      </div>

      <h3 class="section-title">Last 10 Meetings</h3>
      <div class="table-container">
        <table>
          <thead><tr><th>Date</th><th>Season</th><th>Week</th><th>Home</th><th>Score</th><th>Away</th><th>Score</th></tr></thead>
          <tbody id="h2h-recent-body"></tbody>
        </table>
      </div>

      <h3 class="section-title">All Matchups (<span id="h2h-total">0</span>)</h3>
      <div class="table-container table-scroll">
        <table>
          <thead><tr><th>Date</th><th>Season</th><th>Week</th><th>Home</th><th>Score</th><th>Away</th><th>Score</th><th>Primetime</th></tr></thead>
          <tbody id="h2h-all-body"></tbody>
        </table>
      </div>
    </div>

    <div class="rf-placeholder" id="h2h-placeholder">
      <p>Select two teams above to see their head-to-head history</p>
    </div>
  </section>

  <!-- ═══════════════════════════════════════════════ -->
  <!-- TAB 3: GAME EXPLORER                           -->
  <!-- ═══════════════════════════════════════════════ -->
  <section id="game-explorer" class="tab-panel">
    <div class="panel ge-filters">
      <div class="rf-row">
        <div class="rf-group" style="flex:2">
          <label for="ge-search">Search</label>
          <input type="text" id="ge-search" placeholder="Team name...">
        </div>
        <div class="rf-group">
          <label for="ge-season">Season</label>
          <select id="ge-season"><option value="">All</option></select>
        </div>
        <div class="rf-group">
          <label for="ge-week">Week</label>
          <select id="ge-week"><option value="">All</option></select>
        </div>
      </div>
      <div class="rf-row">
        <div class="rf-group">
          <label for="ge-team">Team</label>
          <select id="ge-team"><option value="">All</option></select>
        </div>
        <div class="rf-group">
          <label for="ge-day">Day</label>
          <select id="ge-day"><option value="">All</option></select>
        </div>
        <div class="rf-group">
          <label for="ge-primetime">Primetime</label>
          <select id="ge-primetime">
            <option value="">All</option>
            <option value="MNF">MNF</option>
            <option value="SNF">SNF</option>
            <option value="TNF">TNF</option>
            <option value="none">Non-Primetime</option>
          </select>
        </div>
        <div class="rf-group">
          <button id="ge-clear" class="btn btn-secondary">Clear</button>
        </div>
      </div>
    </div>
    <div class="ge-count">Showing <span id="ge-showing">0</span> of <span id="ge-total">0</span> games</div>
    <div class="table-container">
      <table id="ge-table">
        <thead>
          <tr>
            <th data-sort="s" class="sortable">Season</th>
            <th data-sort="w" class="sortable">Week</th>
            <th data-sort="dt" class="sortable">Date</th>
            <th data-sort="d" class="sortable">Day</th>
            <th data-sort="a">Away</th>
            <th>Score</th>
            <th class="at-col">@</th>
            <th data-sort="h">Home</th>
            <th>Score</th>
            <th>Diff</th>
            <th data-sort="pt" class="sortable">Primetime</th>
            <th>Spread</th>
            <th>O/U Line</th>
            <th>ATS</th>
            <th>O/U</th>
            <th>Temp</th>
            <th>Wind</th>
            <th>Conditions</th>
          </tr>
        </thead>
        <tbody id="ge-body"></tbody>
      </table>
    </div>
    <div class="pagination" id="ge-pagination"></div>
  </section>

  <!-- ═══════════════════════════════════════════════ -->
  <!-- TAB 4: QUICK STATS                             -->
  <!-- ═══════════════════════════════════════════════ -->
  <section id="quick-stats" class="tab-panel">
    <div class="qs-grid" id="qs-grid">
      <div class="qs-loading">Computing stats across 14,000+ games...</div>
    </div>
  </section>

</main>

<script src="data.js"></script>
<script src="app.js"></script>
</body>
</html>
